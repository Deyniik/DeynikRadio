<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#121212">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Deynik Radio | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ä–∞–¥–∏–æ —Å —á–∞—Ç–æ–º</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìª</text></svg>">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Open+Sans:wght@400;500&display=swap" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    <style>
        :root {
            --primary: #191414;
            --secondary: #1DB954;
            --dark: #121212;
            --light: #FFFFFF;
            --gray: #B3B3B3;
            --radius: 16px;
            --card-radius: 12px;
            --active-highlight: rgba(29, 185, 84, 0.1);
            --aura-color: #1DB954;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --font-heading: 'Montserrat', sans-serif;
            --font-body: 'Open Sans', sans-serif;
        }
        
        /* –ê—É—Ä—ã */
        body.aura-romantic {
            --primary: #2a0a1a;
            --secondary: #ff6b9d;
            --dark: #1a0510;
            --aura-color: #ff6b9d;
        }
        
        body.aura-energetic {
            --primary: #1a0a0a;
            --secondary: #ffcc00;
            --dark: #100505;
            --aura-color: #ff3300;
        }
        
        body.aura-happy {
            --primary: #1a1a0a;
            --secondary: #ffcc00;
            --dark: #101005;
            --aura-color: #ffff00;
        }
        
        body.aura-chill {
            --primary: #0a1a1a;
            --secondary: #00ccff;
            --dark: #051010;
            --aura-color: #00ffff;
        }
        
        body.aura-sad {
            --primary: #0a0a1a;
            --secondary: #6666ff;
            --dark: #050510;
            --aura-color: #9999ff;
        }
        
        body.aura-focus {
            --primary: #0a1a0a;
            --secondary: #00ff99;
            --dark: #051005;
            --aura-color: #00ff66;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: var(--font-body);
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            user-select: none;
        }
        
        body {
            background-color: var(--dark);
            color: var(--light);
            overflow-x: hidden;
            overscroll-behavior: none;
            transition: background-color 0.5s ease;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            padding: 20px 15px;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        
        /* –®–∞–ø–∫–∞ */
        .page-header {
            text-align: center;
            margin-bottom: 25px;
            padding: 0 10px;
        }
        
        .page-header h1 {
            color: var(--secondary);
            margin-bottom: 8px;
            font-size: clamp(1.8rem, 6vw, 2.5rem);
            font-weight: 700;
            letter-spacing: -0.5px;
            font-family: var(--font-heading);
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .page-header p {
            color: var(--gray);
            font-size: clamp(0.95rem, 3vw, 1.1rem);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.5;
        }
        
        /* –í–∫–ª–∞–¥–∫–∏ */
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 25px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            padding: 0 10px;
        }
        
        .tab-btn {
            background: rgba(255, 255, 255, 0.05);
            color: var(--light);
            border: none;
            border-radius: var(--radius);
            padding: 10px 16px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .tab-btn.home-btn {
            padding: 10px 18px;
            font-size: 15px;
        }
        
        .tab-btn.active {
            background: var(--secondary);
            color: var(--dark);
            font-weight: 600;
            box-shadow: 0 4px 16px rgba(29, 185, 84, 0.3);
        }
        
        .tab-btn:hover:not(.active) {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }
        
        .tab-content {
            display: none;
            flex: 1;
        }
        
        .tab-content.active {
            display: flex;
            flex-direction: column;
        }
        
        /* –°–µ—Ç–∫–∞ —Ä–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏–π */
        .radio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
            flex: 1;
            overflow-y: auto;
            padding: 10px 5px;
            scrollbar-width: thin;
            scrollbar-color: var(--secondary) transparent;
        }
        
        .radio-grid::-webkit-scrollbar {
            width: 6px;
        }
        
        .radio-grid::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .radio-grid::-webkit-scrollbar-thumb {
            background-color: var(--secondary);
            border-radius: 3px;
        }
        
        @media (max-width: 768px) {
            .radio-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–∞–¥–∏–æ */
        .radio-card {
            background: var(--primary);
            border-radius: var(--card-radius);
            padding: 18px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(255,255,255,0.05);
            min-height: 180px;
            display: flex;
            flex-direction: column;
        }
        
        .radio-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.3);
        }
        
        .radio-card.main-card {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, rgba(29, 185, 84, 0.1) 0%, var(--primary) 100%);
        }
        
        .radio-card.active {
            background: var(--active-highlight);
            box-shadow: 0 0 0 2px var(--secondary), var(--shadow);
        }
        
        .station-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .station-icon {
            width: 42px;
            height: 42px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .station-icon.main-icon {
            width: 50px;
            height: 50px;
            font-size: 22px;
        }
        
        .station-info {
            flex: 1;
            min-width: 0;
        }
        
        .station-info h3 {
            font-size: 16px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            font-weight: 600;
            line-height: 1.4;
        }
        
        .station-info.main-info h3 {
            font-size: 18px;
        }
        
        .station-info p {
            font-size: 13px;
            color: var(--gray);
            line-height: 1.4;
        }
        
        .main-label {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            margin-left: 8px;
            font-weight: 500;
        }
        
        .quality-tag {
            background: rgba(29, 185, 84, 0.2);
            color: var(--secondary);
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
            white-space: nowrap;
        }
        
        .no-ap-badge {
            background: rgba(255, 165, 0, 0.2);
            color: orange;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
            white-space: nowrap;
            position: relative;
            cursor: help;
        }
        
        .no-ap-badge::after {
            content: "–†–∞–¥–∏–æ –±–µ–∑ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤ - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å—Ç—Ä–∏–º–∞—Ö";
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            width: max-content;
            max-width: 200px;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
            margin-bottom: 5px;
        }
        
        .no-ap-badge:hover::after {
            opacity: 1;
        }
        
        /* –ê—É–¥–∏–æ –∫–æ–Ω—Ç—Ä–æ–ª—ã */
        .custom-audio {
            width: 100%;
            margin-top: auto;
            position: relative;
        }
        
        .custom-audio audio {
            width: 100%;
            height: 40px;
            opacity: 0;
            position: absolute;
            z-index: 2;
            cursor: pointer;
        }
        
        .play-btn {
            width: 100%;
            height: 46px;
            background: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .play-btn:hover {
            background: #f0f0f0;
            transform: translateY(-1px);
        }
        
        .play-btn::before {
            content: "";
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-left: 16px solid var(--dark);
            border-bottom: 10px solid transparent;
            border-radius: 3px;
            margin-left: 3px;
            transition: var(--transition);
        }
        
        .play-btn.paused::before {
            border-left: 5px solid var(--dark);
            border-right: 5px solid var(--dark);
            height: 20px;
            width: 4px;
            border-radius: 3px;
            margin-left: 0;
        }
        
        .bitrate-info {
            font-size: 12px;
            color: var(--gray);
            text-align: center;
            margin-top: 10px;
            height: 16px;
            font-weight: 500;
        }
        
        /* –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã */
        .global-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
            padding: 0 10px;
        }
        
        .control-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .btn {
            background: rgba(255,255,255,0.1);
            color: var(--light);
            border: none;
            border-radius: var(--radius);
            padding: 10px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 120px;
            justify-content: center;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .btn:hover {
            background: var(--secondary);
            color: var(--dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(29, 185, 84, 0.3);
        }
        
        .btn i {
            font-size: 15px;
        }
        
        .btn.active {
            background: var(--secondary);
            color: var(--dark);
            font-weight: 600;
        }
        
        .random-btn {
            background: var(--secondary);
            color: var(--dark);
            font-weight: 600;
        }
        
        .random-btn:hover {
            background: var(--light);
            transform: translateY(-2px);
        }
        
        /* –ü–æ–ª–∑—É–Ω–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ */
        .volume-control {
            display: flex;
            align-items: center;
            gap: 12px;
            width: 100%;
            max-width: 240px;
            padding: 8px 12px;
            background: rgba(255,255,255,0.05);
            border-radius: var(--radius);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .volume-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .volume-slider:hover {
            background: rgba(255, 255, 255, 0.2);
            height: 8px;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--secondary);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 0 0 2px rgba(0,0,0,0.2);
        }
        
        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 0 3px rgba(29, 185, 84, 0.3);
        }
        
        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--secondary);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 0 0 2px rgba(0,0,0,0.2);
        }
        
        .volume-slider::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 0 3px rgba(29, 185, 84, 0.3);
        }
        
        .volume-icon {
            color: var(--gray);
            font-size: 16px;
            min-width: 20px;
            text-align: center;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ –ø—Ä–µ—Å–µ—Ç–æ–≤ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ */
        .preset-btn {
            min-width: auto;
            padding: 8px 12px;
            font-size: 13px;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ –í–µ—Ä–∫–∏ */
        .verka-btn {
            background: linear-gradient(135deg, #FFD700 0%, #005BBB 100%);
            color: var(--dark);
            font-weight: 600;
            margin: 15px auto;
            display: block;
            border: none;
            border-radius: var(--radius);
            padding: 12px 24px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 15px;
            box-shadow: 0 4px 16px rgba(255, 215, 0, 0.3);
            max-width: 300px;
            width: 100%;
        }
        
        .verka-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4);
        }
        
        .verka-playing {
            background: linear-gradient(135deg, #005BBB 0%, #FFD700 100%);
        }
        
        /* –ú–∏–Ω–∏-–ø–ª–µ–µ—Ä */
        .mini-player {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 40px);
            max-width: 500px;
            background: var(--primary);
            border-radius: var(--radius);
            padding: 12px 16px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 100;
            border: 1px solid rgba(255,255,255,0.1);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .mini-player.visible {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }
        
        .mini-player-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            flex-shrink: 0;
        }
        
        .mini-player-info {
            flex: 1;
            min-width: 0;
        }
        
        .mini-player-info h4 {
            font-size: 14px;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .mini-player-info p {
            font-size: 12px;
            color: var(--gray);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .mini-player-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .mini-player-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .mini-player-btn:hover {
            background: var(--secondary);
            color: var(--dark);
        }
        
        /* –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø–ª–µ–µ—Ä */
        .fullscreen-player {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark);
            z-index: 1000;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .fullscreen-player.active {
            display: flex;
            opacity: 1;
        }
        
        .fullscreen-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .fullscreen-close:hover {
            background: var(--secondary);
            color: var(--dark);
        }
        
        .fullscreen-icon {
            width: 100px;
            height: 100px;
            border-radius: 20px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 40px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }
        
        .fullscreen-info {
            text-align: center;
            margin-bottom: 30px;
            max-width: 90%;
        }
        
        .fullscreen-info h2 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
            font-family: var(--font-heading);
        }
        
        .fullscreen-info p {
            font-size: 16px;
            color: var(--gray);
        }
        
        .fullscreen-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%;
            max-width: 400px;
        }
        
        .fullscreen-play-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--secondary);
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 30px;
            box-shadow: 0 4px 20px rgba(29, 185, 84, 0.4);
        }
        
        .fullscreen-play-btn:hover {
            transform: scale(1.05);
        }
        
        .fullscreen-volume {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .fullscreen-volume i {
            font-size: 20px;
            color: var(--gray);
        }
        
        .fullscreen-volume-slider {
            flex: 1;
            -webkit-appearance: none;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            outline: none;
        }
        
        .fullscreen-volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--secondary);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .fullscreen-volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        
        /* –°–µ–ª–µ–∫—Ç–æ—Ä –∞—É—Ä—ã */
        .aura-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: rgba(0,0,0,0.7);
            border-radius: var(--radius);
            padding: 10px 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .aura-selector:hover {
            background: rgba(0,0,0,0.8);
            transform: translateY(-1px);
        }
        
        .aura-selector i {
            color: var(--secondary);
            font-size: 16px;
        }
        
        .aura-selector select {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            font-size: 14px;
            cursor: pointer;
            outline: none;
            appearance: none;
            padding: 6px 10px;
            border-radius: 8px;
            transition: var(--transition);
            font-weight: 500;
        }
        
        .aura-selector select:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .aura-selector select option {
            background: var(--dark);
            color: white;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ Google Auth */
        .google-auth-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            border: none;
            border-radius: var(--radius);
            padding: 8px 14px;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            height: 40px;
        }
        
        .google-auth-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .google-auth-btn i {
            font-size: 16px;
            color: #4285F4;
        }
        
        .user-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 6px;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ —á–∞—Ç–∞ */
        .chat-btn {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: var(--secondary);
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .chat-btn:hover {
            transform: scale(1.1);
        }
        
        .chat-btn i {
            font-size: 20px;
        }
        
        .chat-btn.unread::after {
            content: "";
            position: absolute;
            top: 5px;
            right: 5px;
            width: 12px;
            height: 12px;
            background: red;
            border-radius: 50%;
            border: 2px solid var(--dark);
        }
        
        /* –ß–∞—Ç */
        .chat-container {
            position: fixed;
            top: 0;
            right: -400px;
            width: 100%;
            max-width: 400px;
            height: 100%;
            background: var(--primary);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            transition: var(--transition);
            border-left: 1px solid rgba(255,255,255,0.1);
        }
        
        .chat-container.open {
            right: 0;
        }
        
        .chat-header {
            padding: 15px;
            background: rgba(0,0,0,0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .chat-header h3 {
            font-size: 18px;
            font-weight: 600;
            color: var(--secondary);
        }
        
        .chat-close {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .chat-close:hover {
            background: var(--secondary);
            color: var(--dark);
        }
        
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--secondary) transparent;
        }
        
        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-messages::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .chat-messages::-webkit-scrollbar-thumb {
            background-color: var(--secondary);
            border-radius: 3px;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            max-width: 80%;
        }
        
        .message.me {
            align-self: flex-end;
            align-items: flex-end;
        }
        
        .message.other {
            align-self: flex-start;
            align-items: flex-start;
        }
        
        .message-user {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .message-user img {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        
        .message-text {
            padding: 10px 15px;
            border-radius: var(--radius);
            font-size: 14px;
            line-height: 1.4;
            word-break: break-word;
        }
        
        .message.me .message-text {
            background: var(--secondary);
            color: var(--dark);
            border-top-right-radius: 5px;
        }
        
        .message.other .message-text {
            background: rgba(255,255,255,0.1);
            border-top-left-radius: 5px;
        }
        
        .message-time {
            font-size: 10px;
            color: var(--gray);
            margin-top: 3px;
            text-align: right;
        }
        
        .chat-input {
            padding: 15px;
            background: rgba(0,0,0,0.2);
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: var(--radius);
            padding: 12px 15px;
            color: var(--light);
            font-size: 14px;
            outline: none;
        }
        
        .chat-input button {
            width: 50px;
            background: var(--secondary);
            color: var(--dark);
            border: none;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .chat-input button:hover {
            background: var(--light);
        }
        
        .chat-input button i {
            font-size: 18px;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        @media (max-width: 768px) {
            .main-content {
                padding: 15px 10px;
            }
            
            .tabs {
                gap: 6px;
                margin-bottom: 20px;
            }
            
            .tab-btn {
                padding: 8px 12px;
                font-size: 13px;
            }
            
            .tab-btn.home-btn {
                padding: 8px 14px;
            }
            
            .radio-card {
                padding: 15px;
                min-height: 170px;
            }
            
            .station-header {
                gap: 10px;
                margin-bottom: 12px;
            }
            
            .station-icon {
                width: 38px;
                height: 38px;
                font-size: 16px;
            }
            
            .station-icon.main-icon {
                width: 44px;
                height: 44px;
                font-size: 20px;
            }
            
            .station-info h3 {
                font-size: 15px;
            }
            
            .station-info.main-info h3 {
                font-size: 16px;
            }
            
            .play-btn {
                height: 42px;
            }
            
            .volume-control {
                max-width: 200px;
            }
            
            .preset-btn {
                padding: 6px 10px;
                font-size: 12px;
            }
            
            .aura-selector {
                top: 15px;
                right: 15px;
                padding: 8px 12px;
                font-size: 13px;
            }
            
            .mini-player {
                width: calc(100% - 20px);
                bottom: 10px;
            }
            
            .fullscreen-icon {
                width: 80px;
                height: 80px;
                font-size: 30px;
            }
            
            .fullscreen-info h2 {
                font-size: 20px;
            }
            
            .fullscreen-info p {
                font-size: 14px;
            }
            
            .fullscreen-play-btn {
                width: 70px;
                height: 70px;
                font-size: 25px;
            }
            
            .chat-container {
                max-width: 100%;
            }
            
            .chat-btn {
                width: 50px;
                height: 50px;
                bottom: 70px;
                right: 15px;
            }
            
            .chat-btn i {
                font-size: 20px;
            }
            
            .google-auth-btn {
                top: 15px;
                left: 15px;
                padding: 8px 12px;
                font-size: 13px;
            }
        }
        
        @media (max-width: 480px) {
            .control-row {
                gap: 8px;
            }
            
            .btn {
                min-width: 100px;
                padding: 8px 12px;
                font-size: 13px;
            }
            
            .volume-control {
                max-width: 180px;
                padding: 6px 10px;
            }
            
            .verka-btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .mini-player {
                padding: 10px 12px;
            }
            
            .mini-player-icon {
                width: 32px;
                height: 32px;
                font-size: 14px;
            }
            
            .mini-player-btn {
                width: 32px;
                height: 32px;
                font-size: 14px;
            }
            
            .fullscreen-icon {
                width: 70px;
                height: 70px;
                font-size: 25px;
            }
            
            .fullscreen-info h2 {
                font-size: 18px;
            }
            
            .fullscreen-info p {
                font-size: 13px;
            }
            
            .fullscreen-play-btn {
                width: 60px;
                height: 60px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- –ö–Ω–æ–ø–∫–∞ Google Auth -->
    <button class="google-auth-btn" id="googleAuthBtn">
        <i class="fab fa-google"></i> –í–æ–π—Ç–∏
    </button>

    <!-- –°–µ–ª–µ–∫—Ç–æ—Ä –∞—É—Ä—ã -->
    <div class="aura-selector" id="auraSelector">
        <i class="fas fa-palette"></i>
        <select id="auraSelect">
            <option value="default">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è</option>
            <option value="happy">–†–∞–¥–æ—Å—Ç–Ω–∞—è</option>
            <option value="chill">–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω–∞—è</option>
            <option value="energetic">–≠–Ω–µ—Ä–≥–∏—á–Ω–∞—è</option>
            <option value="romantic">–†–æ–º–∞–Ω—Ç–∏—á–Ω–∞—è</option>
            <option value="sad">–ì—Ä—É—Å—Ç–Ω–∞—è</option>
            <option value="focus">–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–Ω–∞—è</option>
        </select>
    </div>

    <!-- –ß–∞—Ç -->
    <button class="chat-btn" id="chatBtn">
        <i class="fas fa-comment-dots"></i>
    </button>
    
    <div class="chat-container" id="chatContainer">
        <div class="chat-header">
            <h3>–ß–∞—Ç —Ä–∞–¥–∏–æ</h3>
            <div class="chat-close" id="chatClose">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <div class="chat-messages" id="chatMessages"></div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." disabled>
            <button id="sendMessageBtn" disabled><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø–ª–µ–µ—Ä -->
    <div class="fullscreen-player" id="fullscreenPlayer">
        <div class="fullscreen-close" id="fullscreenClose">
            <i class="fas fa-times"></i>
        </div>
        <div class="fullscreen-icon" id="fullscreenIcon">
            <i class="fas fa-music"></i>
        </div>
        <div class="fullscreen-info">
            <h2 id="fullscreenTitle">–ù–µ –∏–≥—Ä–∞–µ—Ç</h2>
            <p id="fullscreenDescription">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏—é</p>
        </div>
        <div class="fullscreen-controls">
            <button class="fullscreen-play-btn" id="fullscreenPlayBtn">
                <i class="fas fa-play"></i>
            </button>
            <div class="fullscreen-volume">
                <i class="fas fa-volume-down" id="fullscreenVolumeIcon"></i>
                <input type="range" class="fullscreen-volume-slider" id="fullscreenVolume" min="0" max="1" step="0.01" value="0.5">
                <i class="fas fa-volume-up"></i>
            </div>
        </div>
    </div>

    <!-- –ú–∏–Ω–∏-–ø–ª–µ–µ—Ä -->
    <div class="mini-player" id="miniPlayer">
        <div class="mini-player-icon" id="miniPlayerIcon">
            <i class="fas fa-music"></i>
        </div>
        <div class="mini-player-info">
            <h4 id="miniPlayerTitle">–ù–µ –∏–≥—Ä–∞–µ—Ç</h4>
            <p id="miniPlayerDescription">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏—é</p>
        </div>
        <div class="mini-player-controls">
            <button class="mini-player-btn" id="miniPlayerPlayBtn">
                <i class="fas fa-play"></i>
            </button>
            <button class="mini-player-btn" id="miniPlayerRefreshBtn">
                <i class="fas fa-sync-alt"></i>
            </button>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="main-content" id="mainContent">
        <div class="page-header">
            <h1>Deynik Radio</h1>
            <p>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ä–∞–¥–∏–æ –≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ</p>
        </div>

        <div class="tabs">
            <button class="tab-btn" data-tab="russia">
                <img src="https://flagcdn.com/w20/ru.png" class="flag-icon" alt="–†–æ—Å—Å–∏—è">
                –†–æ—Å—Å–∏—è
            </button>
            <button class="tab-btn home-btn active" data-tab="international" title="–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ">
                <i class="fas fa-home"></i>
            </button>
            <button class="tab-btn" data-tab="ukraine">
                <img src="https://flagcdn.com/w20/ua.png" class="flag-icon" alt="–£–∫—Ä–∞–∏–Ω–∞">
                –£–∫—Ä–∞–∏–Ω–∞
            </button>
            <button class="tab-btn" data-tab="lofi">
                <i class="fas fa-moon"></i> Lo-Fi
            </button>
        </div>

        <div class="global-controls">
            <div class="control-row">
                <div class="volume-control">
                    <i class="fas fa-volume-down volume-icon"></i>
                    <input type="range" class="volume-slider" id="global-volume" min="0" max="1" step="0.01" value="0.5">
                    <i class="fas fa-volume-up volume-icon"></i>
                </div>
                
                <button class="btn random-btn" id="random-radio">
                    <i class="fas fa-random"></i>
                    –°–ª—É—á–∞–π–Ω–æ–µ
                </button>
            </div>
            
            <div class="control-row">
                <button class="btn preset-btn" data-preset="0.3">
                    <i class="fas fa-comments"></i> –§–æ–Ω
                </button>
                <button class="btn preset-btn" data-preset="0.7">
                    <i class="fas fa-headphones"></i> –ú—É–∑—ã–∫–∞
                </button>
                <button class="btn preset-btn" data-preset="0.15">
                    <i class="fas fa-volume-off"></i> –¢–∏—Ö–æ
                </button>
                <button class="btn preset-btn" data-preset="1.0">
                    <i class="fas fa-volume-up"></i> –ì—Ä–æ–º–∫–æ
                </button>
            </div>
        </div>

        <!-- –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Ä–∞–¥–∏–æ -->
        <div class="tab-content active" id="international-tab">
            <div class="radio-grid">
                <!-- 1. KISS FM (–≥–ª–∞–≤–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è) -->
                <div class="radio-card main-card" id="kissint-card">
                    <div class="station-header">
                        <div class="station-icon main-icon"><i class="fas fa-heart"></i></div>
                        <div class="station-info main-info">
                            <h3>KISS FM <span class="quality-tag">128kbps</span> <span class="main-label">–ì–ª–∞–≤–Ω–æ–µ —Ä–∞–¥–∏–æ</span></h3>
                            <p>–õ—É—á—à–∏–µ –º–∏—Ä–æ–≤—ã–µ —Ö–∏—Ç—ã –≤ –æ—Ç–ª–∏—á–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="kissint-player" preload="none">
                            <source src="https://cloud.revma.ihrhls.com/zc185?rj-org=n42b-e2&rj-ttl=5&rj-tok=AAABmEPRtccAaOsUfdKMAzMlJQ" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="kissint-bitrate"></div>
                </div>

                <!-- 2. Radio Paradise -->
                <div class="radio-card" id="rp-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-music"></i></div>
                        <div class="station-info">
                            <h3>Radio Paradise <span class="quality-tag">FLAC 900+kbps</span><span class="no-ap-badge">–ë–µ–∑ –ê–ü</span></h3>
                            <p>–ê—É–¥–∏–æ—Ñ–∏–ª—å—Å–∫–∏–π –º–∏–∫—Å —Ä–æ–∫–∞ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –±–µ–∑ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="rp-player" preload="none">
                            <source src="https://stream.radioparadise.com/flac" type="audio/flac">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="rp-bitrate"></div>
                </div>

                <!-- 3. LoFi Girl -->
                <div class="radio-card" id="lofi-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-moon"></i></div>
                        <div class="station-info">
                            <h3>LoFi Girl <span class="quality-tag">192kbps</span> <span class="no-ap-badge">–ë–µ–∑ –ê–ü</span></h3>
                            <p>–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –ª–æ—É-—Ñ–∞–π —Å—Ç—Ä–∏–º –±–µ–∑ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="lofi-player" preload="none">
                            <source src="https://play.streamafrica.net/lofiradio" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="lofi-bitrate"></div>
                </div>

                <!-- 4. Z100 New York -->
                <div class="radio-card" id="z100-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-broadcast-tower"></i></div>
                        <div class="station-info">
                            <h3>Z100 New York <span class="quality-tag">128kbps</span></h3>
                            <p>–ü–æ–ø-—Ö–∏—Ç—ã –æ—Ç iHeartRadio</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="z100-player" preload="none">
                            <source src="https://stream.revma.ihrhls.com/zc1477" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="z100-bitrate"></div>
                </div>
                
                <!-- 5. Jazz24 -->
                <div class="radio-card" id="jazz-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-music"></i></div>
                        <div class="station-info">
                            <h3>Jazz24 <span class="quality-tag">192kbps</span></h3>
                            <p>–õ—É—á—à–∏–µ –¥–∂–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="jazz-player" preload="none">
                            <source src="https://jazz-wr06.ice.infomaniak.ch/jazz-wr06-192.mp3" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="jazz-bitrate"></div>
                </div>
            </div>
        </div>

        <!-- –†–∞–¥–∏–æ –†–æ—Å—Å–∏–∏ -->
        <div class="tab-content" id="russia-tab">
            <div class="radio-grid">
                <!-- 1. –ï–≤—Ä–æ–ø–∞ –ü–ª—é—Å -->
                <div class="radio-card" id="europa-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-globe-europe"></i></div>
                        <div class="station-info">
                            <h3>–ï–≤—Ä–æ–ø–∞ –ü–ª—é—Å <span class="quality-tag">128kbps</span></h3>
                            <p>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ö–∏—Ç—ã</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="europa-player" preload="none">
                            <source src="https://ep128.hostingradio.ru:8030/ep128" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="europa-bitrate"></div>
                </div>

                <!-- 2. –†—É—Å—Å–∫–æ–µ –†–∞–¥–∏–æ -->
                <div class="radio-card" id="russkoe-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-music"></i></div>
                        <div class="station-info">
                            <h3>–†—É—Å—Å–∫–æ–µ –†–∞–¥–∏–æ <span class="quality-tag">128kbps</span></h3>
                            <p>–†—É—Å—Å–∫–∏–µ —Ö–∏—Ç—ã</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="russkoe-player" preload="none">
                            <source src="https://rusradio.hostingradio.ru:8000/rusradio128.mp3" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="russkoe-bitrate"></div>
                </div>

                <!-- 3. DFM -->
                <div class="radio-card" id="dfm-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-headphones"></i></div>
                        <div class="station-info">
                            <h3>DFM <span class="quality-tag">128kbps</span></h3>
                            <p>–¢–∞–Ω—Ü–µ–≤–∞–ª—å–Ω–∞—è –º—É–∑—ã–∫–∞</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="dfm-player" preload="none">
                            <source src="https://dfm.hostingradio.ru:8000/dfm128.mp3" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="dfm-bitrate"></div>
                </div>

                <!-- 4. –ê–≤—Ç–æ—Ä–∞–¥–∏–æ -->
                <div class="radio-card" id="avto-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-car"></i></div>
                        <div class="station-info">
                            <h3>–ê–≤—Ç–æ—Ä–∞–¥–∏–æ <span class="quality-tag">128kbps</span></h3>
                            <p>–ú—É–∑—ã–∫–∞ –¥–ª—è –∞–≤—Ç–æ–ª—é–±–∏—Ç–µ–ª–µ–π</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="avto-player" preload="none">
                            <source src="https://listen.autoradio.ua/ar_mp3_hi" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="avto-bitrate"></div>
                </div>
                
                <!-- 5. Energy -->
                <div class="radio-card" id="energy-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-bolt"></i></div>
                        <div class="station-info">
                            <h3>Energy <span class="quality-tag">128kbps</span></h3>
                            <p>–¢–∞–Ω—Ü–µ–≤–∞–ª—å–Ω–∞—è –º—É–∑—ã–∫–∞</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="energy-player" preload="none">
                            <source src="https://pub0301.101.ru:8000/stream/air/mp3/256/219" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="energy-bitrate"></div>
                </div>
                
                <!-- 6. Comedy Radio -->
                <div class="radio-card" id="comedy-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-laugh-squint"></i></div>
                        <div class="station-info">
                            <h3>Comedy Radio <span class="quality-tag">128kbps</span></h3>
                            <p>–Æ–º–æ—Ä –∏ –º—É–∑—ã–∫–∞</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="comedy-player" preload="none">
                            <source src="https://pub0301.101.ru:8000/stream/air/mp3/256/200" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="comedy-bitrate"></div>
                </div>
            </div>
        </div>

        <!-- –£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ —Ä–∞–¥–∏–æ -->
        <div class="tab-content" id="ukraine-tab">
            <button class="verka-btn" id="verka-btn">
                <i class="fas fa-star"></i> –í–µ—Ä–∫–∞ –°–µ—Ä–¥—é—á–∫–∞
            </button>
            
            <div class="radio-grid">
                <!-- 1. –•–∏—Ç FM -->
                <div class="radio-card" id="hitfm-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-star"></i></div>
                        <div class="station-info">
                            <h3>–•–∏—Ç FM <span class="quality-tag">128kbps</span></h3>
                            <p>–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –∏ –º–∏—Ä–æ–≤—ã–µ —Ö–∏—Ç—ã</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="hitfm-player" preload="none">
                            <source src="https://online.kissfm.ua/KissFM" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="hitfm-bitrate"></div>
                </div>

                <!-- 2. –†–∞–¥–∏–æ Relax -->
                <div class="radio-card" id="relax-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-spa"></i></div>
                        <div class="station-info">
                            <h3>–†–∞–¥–∏–æ Relax <span class="quality-tag">128kbps</span></h3>
                            <p>–õ—ë–≥–∫–∞—è –º—É–∑—ã–∫–∞</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="relax-player" preload="none">
                            <source src="https://radio.relax.ua/relax128" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="relax-bitrate"></div>
                </div>

                <!-- 3. Kiss FM –£–∫—Ä–∞–∏–Ω–∞ -->
                <div class="radio-card" id="kiss-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-heart"></i></div>
                        <div class="station-info">
                            <h3>Kiss FM –£–∫—Ä–∞–∏–Ω–∞ <span class="quality-tag">128kbps</span></h3>
                            <p>–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –º—É–∑—ã–∫–∞</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="kiss-player" preload="none">
                            <source src="https://online.kissfm.ua/KissFM" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="kiss-bitrate"></div>
                </div>

                <!-- 4. –ù–∞—à–µ –†–∞–¥–∏–æ -->
                <div class="radio-card" id="nashe-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-microphone-alt"></i></div>
                        <div class="station-info">
                            <h3>–ù–∞—à–µ –†–∞–¥–∏–æ <span class="quality-tag">128kbps</span></h3>
                            <p>–†–æ–∫ –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="nashe-player" preload="none">
                            <source src="https://nashe1.hostingradio.ru:80/nashe-128.mp3" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="nashe-bitrate"></div>
                </div>
                
                <!-- 5. –†–∞–¥–∏–æ –ë–∞–π—Ä–∞–∫—Ç–∞—Ä -->
                <div class="radio-card" id="bayraktar-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-helicopter"></i></div>
                        <div class="station-info">
                            <h3>–†–∞–¥–∏–æ –ë–∞–π—Ä–∞–∫—Ç–∞—Ä <span class="quality-tag">128kbps</span></h3>
                            <p>–£–∫—Ä–∞–∏–Ω—Å–∫–∞—è –º—É–∑—ã–∫–∞</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="bayraktar-player" preload="none">
                            <source src="https://radio.bayraktar.tv/radio" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="bayraktar-bitrate"></div>
                </div>
                
                <!-- 6. –£–∫—Ä–∞–∏–Ω—Å–∫–æ–µ –†–∞–¥–∏–æ -->
                <div class="radio-card" id="ukrradio-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-flag"></i></div>
                        <div class="station-info">
                            <h3>–£–∫—Ä–∞–∏–Ω—Å–∫–æ–µ –†–∞–¥–∏–æ <span class="quality-tag">128kbps</span></h3>
                            <p>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞–¥–∏–æ</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="ukrradio-player" preload="none">
                            <source src="https://radio.nrcu.gov.ua:8443/nrcu-256.mp3" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="ukrradio-bitrate"></div>
                </div>
            </div>
        </div>

        <!-- Lo-Fi —Ä–∞–¥–∏–æ -->
        <div class="tab-content" id="lofi-tab">
            <div class="radio-grid">
                <!-- 1. Chillhop Radio -->
                <div class="radio-card main-card" id="chillhop-card">
                    <div class="station-header">
                        <div class="station-icon main-icon"><i class="fas fa-moon"></i></div>
                        <div class="station-info main-info">
                            <h3>Chillhop Radio <span class="quality-tag">128kbps</span> <span class="no-ap-badge">–ë–µ–∑ –ê–ü</span> <span class="main-label">–õ—É—á—à–∏–π Lo-Fi</span></h3>
                            <p>–†–∞—Å—Å–ª–∞–±–ª—è—é—â–∏–µ –±–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ –æ—Ç–¥—ã—Ö–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="chillhop-player" preload="none">
                            <source src="https://stream-178.zeno.fm/f3wvbbqmdg8uv?zt=eyJhbGciOiJIUzI1NiJ9.eyJzdHJlYW0iOiJmM3d2YmJxbWRnOHV2IiwiaG9zdCI6InN0cmVhbS0xNzguemVuby5mbSIsInJ0dGwiOjUsImp0aSI6InliWWlGa0V1UVZxRkdfUHVSdzc1aFEiLCJpYXQiOjE3NTM3Mzk5ODksImV4cCI6MTc1Mzc0MDA0OX0.euTaSztCdSWf9UEh8USg2iZrjbk1Zr_cIB6VUCtqXO4" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="chillhop-bitrate"></div>
                </div>

                <!-- 2. LoFi Hip Hop -->
                <div class="radio-card" id="lofihiphop-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-headphones"></i></div>
                        <div class="station-info">
                            <h3>LoFi Hip Hop <span class="quality-tag">128kbps</span> <span class="no-ap-badge">–ë–µ–∑ –ê–ü</span></h3>
                            <p>–õ—É—á—à–∏–µ —Ö–∏–ø-—Ö–æ–ø –±–∏—Ç—ã –±–µ–∑ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="lofihiphop-player" preload="none">
                            <source src="https://stream-158.zeno.fm/0r0xa792kwzuv?zt=eyJhbGciOiJIUzI1NiJ9.eyJzdHJlYW0iOiIwcjB4YTc5Mmt3enV2IiwiaG9zdCI6InN0cmVhbS0xNTguemVuby5mbSIsInJ0dGwiOjUsImp0aSI6IkRfQXk5NUx5UUJlWTZTa052cDJPdXciLCJpYXQiOjE3NTM3NDAwODAsImV4cCI6MTc1Mzc0MDE0MH0.RrcOQhFX_ENyVJmbYpubG1QhGuz30RuwB65Xg1y1qCM" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="lofihiphop-bitrate"></div>
                </div>

                <!-- 3. LoFi Girl -->
                <div class="radio-card" id="lofigirl-card">
                    <div class="station-header">
                        <div class="station-icon"><i class="fas fa-moon"></i></div>
                        <div class="station-info">
                            <h3>LoFi Girl <span class="quality-tag">192kbps</span> <span class="no-ap-badge">–ë–µ–∑ –ê–ü</span></h3>
                            <p>–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –ª–æ—É-—Ñ–∞–π —Å—Ç—Ä–∏–º –±–µ–∑ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤</p>
                        </div>
                    </div>
                    <div class="custom-audio">
                        <audio id="lofigirl-player" preload="none">
                            <source src="https://play.streamafrica.net/lofiradio" type="audio/mpeg">
                        </audio>
                        <div class="play-btn"></div>
                    </div>
                    <div class="bitrate-info" id="lofigirl-bitrate"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBk4nxZ1ldNQUCxsbgaeYTkm9stq0o9o2Q",
            authDomain: "deygram-e4814.firebaseapp.com",
            projectId: "deygram-e4814",
            storageBucket: "deygram-e4814.appspot.com",
            messagingSenderId: "591207353726",
            appId: "1:591207353726:web:d20f5e648d3daf86fcb72f"
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const database = firebase.database();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        const mainContent = document.getElementById('mainContent');
        const auraSelector = document.getElementById('auraSelector');
        const auraSelect = document.getElementById('auraSelect');
        const miniPlayer = document.getElementById('miniPlayer');
        const miniPlayerIcon = document.getElementById('miniPlayerIcon');
        const miniPlayerTitle = document.getElementById('miniPlayerTitle');
        const miniPlayerDescription = document.getElementById('miniPlayerDescription');
        const miniPlayerPlayBtn = document.getElementById('miniPlayerPlayBtn');
        const miniPlayerRefreshBtn = document.getElementById('miniPlayerRefreshBtn');
        const fullscreenPlayer = document.getElementById('fullscreenPlayer');
        const fullscreenClose = document.getElementById('fullscreenClose');
        const fullscreenIcon = document.getElementById('fullscreenIcon');
        const fullscreenTitle = document.getElementById('fullscreenTitle');
        const fullscreenDescription = document.getElementById('fullscreenDescription');
        const fullscreenPlayBtn = document.getElementById('fullscreenPlayBtn');
        const fullscreenVolume = document.getElementById('fullscreenVolume');
        const fullscreenVolumeIcon = document.getElementById('fullscreenVolumeIcon');
        const googleAuthBtn = document.getElementById('googleAuthBtn');
        const chatBtn = document.getElementById('chatBtn');
        const chatContainer = document.getElementById('chatContainer');
        const chatClose = document.getElementById('chatClose');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendMessageBtn = document.getElementById('sendMessageBtn');
        
        let isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        let currentPlayer = null;
        let currentCard = null;
        let currentUser = null;
        let unreadMessages = 0;
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Ä–∞–¥–∏–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ä–∞–∑—É
            mainContent.style.display = 'flex';
            auraSelector.style.display = 'flex';
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ —Ä–∞–¥–∏–æ (KISS FM)
            setTimeout(() => {
                const kissPlayer = document.getElementById('kissint-player');
                const kissPlayBtn = document.querySelector('#kissint-card .play-btn');
                currentCard = document.getElementById('kissint-card');
                
                if (kissPlayer && kissPlayBtn) {
                    kissPlayer.play()
                        .then(() => {
                            kissPlayBtn.classList.add('paused');
                            currentCard.classList.add('active');
                            currentPlayer = kissPlayer;
                            updateMiniPlayer(currentCard);
                            updateFullscreenPlayer(currentCard);
                            
                            // –í–∏–±—Ä–∞—Ü–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                            if (isMobile && navigator.vibrate) {
                                navigator.vibrate(100);
                            }
                        })
                        .catch(error => {
                            console.log("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ");
                            kissPlayer.controls = true;
                            kissPlayBtn.style.display = 'none';
                        });
                }
            }, 500);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —á–∞—Ç–∞
            initAuth();
            initChat();
        });

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∏–Ω–∏-–ø–ª–µ–µ—Ä–∞
        function updateMiniPlayer(card) {
            const header = card.querySelector('.station-header');
            const icon = header.querySelector('.station-icon i').className;
            const title = header.querySelector('.station-info h3').childNodes[0].textContent.trim();
            const description = header.querySelector('.station-info p').textContent;
            
            miniPlayerIcon.innerHTML = `<i class="${icon}"></i>`;
            miniPlayerTitle.textContent = title;
            miniPlayerDescription.textContent = description;
            
            miniPlayer.classList.add('visible');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ play/pause
            if (currentPlayer && !currentPlayer.paused) {
                miniPlayerPlayBtn.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                miniPlayerPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –ø–ª–µ–µ—Ä–∞
        function updateFullscreenPlayer(card) {
            const header = card.querySelector('.station-header');
            const icon = header.querySelector('.station-icon i').className;
            const title = header.querySelector('.station-info h3').childNodes[0].textContent.trim();
            const description = header.querySelector('.station-info p').textContent;
            
            fullscreenIcon.innerHTML = `<i class="${icon}"></i>`;
            fullscreenTitle.textContent = title;
            fullscreenDescription.textContent = description;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ play/pause
            if (currentPlayer && !currentPlayer.paused) {
                fullscreenPlayBtn.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                fullscreenPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å
            if (currentPlayer) {
                fullscreenVolume.value = currentPlayer.volume;
                updateVolumeIcon(fullscreenVolumeIcon, currentPlayer.volume);
            }
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∞—É—Ä—ã
        function applyAura(mood) {
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã –∞—É—Ä
            document.body.classList.remove(
                'aura-happy', 'aura-chill', 'aura-energetic', 
                'aura-romantic', 'aura-sad', 'aura-focus'
            );
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω—É–∂–Ω—ã–π –∫–ª–∞—Å—Å
            if (mood && mood !== 'default') {
                document.body.classList.add(`aura-${mood}`);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
        function updateVolumeIcon(icon, volume) {
            if (volume === 0) {
                icon.className = 'fas fa-volume-mute';
            } else if (volume < 0.5) {
                icon.className = 'fas fa-volume-down';
            } else {
                icon.className = 'fas fa-volume-up';
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–±–æ—Ä–∞ –∞—É—Ä—ã
        auraSelect.addEventListener('change', function() {
            const selectedAura = this.value;
            applyAura(selectedAura);
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ play/pause –≤ –º–∏–Ω–∏-–ø–ª–µ–µ—Ä–µ
        miniPlayerPlayBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            if (currentPlayer) {
                if (currentPlayer.paused) {
                    currentPlayer.play()
                        .then(() => {
                            this.innerHTML = '<i class="fas fa-pause"></i>';
                            if (currentCard) {
                                currentCard.querySelector('.play-btn').classList.add('paused');
                                currentCard.classList.add('active');
                                updateFullscreenPlayer(currentCard);
                            }
                        })
                        .catch(error => {
                            console.log("–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:", error);
                        });
                } else {
                    currentPlayer.pause();
                    this.innerHTML = '<i class="fas fa-play"></i>';
                    if (currentCard) {
                        currentCard.querySelector('.play-btn').classList.remove('paused');
                        currentCard.classList.remove('active');
                        updateFullscreenPlayer(currentCard);
                    }
                }
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –º–∏–Ω–∏-–ø–ª–µ–µ—Ä–µ
        miniPlayerRefreshBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            if (currentPlayer && currentCard) {
                refreshStream(currentPlayer, currentCard);
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –º–∏–Ω–∏-–ø–ª–µ–µ—Ä—É
        miniPlayer.addEventListener('click', function() {
            if (currentCard) {
                fullscreenPlayer.classList.add('active');
                updateFullscreenPlayer(currentCard);
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –ø–ª–µ–µ—Ä–∞
        fullscreenClose.addEventListener('click', function(e) {
            e.stopPropagation();
            fullscreenPlayer.classList.remove('active');
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ play/pause –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º –ø–ª–µ–µ—Ä–µ
        fullscreenPlayBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            if (currentPlayer) {
                if (currentPlayer.paused) {
                    currentPlayer.play()
                        .then(() => {
                            this.innerHTML = '<i class="fas fa-pause"></i>';
                            if (currentCard) {
                                currentCard.querySelector('.play-btn').classList.add('paused');
                                currentCard.classList.add('active');
                                miniPlayerPlayBtn.innerHTML = '<i class="fas fa-pause"></i>';
                            }
                        })
                        .catch(error => {
                            console.log("–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:", error);
                        });
                } else {
                    currentPlayer.pause();
                    this.innerHTML = '<i class="fas fa-play"></i>';
                    if (currentCard) {
                        currentCard.querySelector('.play-btn').classList.remove('paused');
                        currentCard.classList.remove('active');
                        miniPlayerPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
                    }
                }
            }
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º –ø–ª–µ–µ—Ä–µ
        fullscreenVolume.addEventListener('input', function(e) {
            const volume = parseFloat(e.target.value);
            if (currentPlayer) {
                currentPlayer.volume = volume;
            }
            updateVolumeIcon(fullscreenVolumeIcon, volume);
        });

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞
        function refreshStream(player, card) {
            if (!player.paused) {
                const currentTime = player.currentTime;
                const src = player.querySelector('source').src;
                const bitrateEl = card.querySelector('.bitrate-info');
                
                player.querySelector('source').src = src.split('?')[0] + '?_=' + Date.now();
                player.load();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
                bitrateEl.textContent = "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞...";
                
                player.play()
                    .then(() => {
                        player.currentTime = currentTime;
                        setTimeout(() => {
                            bitrateEl.textContent = `–ë–∏—Ç—Ä–µ–π—Ç: ~${card.querySelector('.quality-tag').textContent.match(/\d+/)[0]} kbps`;
                        }, 2000);
                    })
                    .catch(e => {
                        console.log("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ");
                    });
            }
        }

        // –û—Å—Ç–∞–ª—å–Ω–æ–π JavaScript –∫–æ–¥ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–¥–∏–æ)
        const tabBtns = document.querySelectorAll('.tab-btn');
        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                tabBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const tabId = btn.dataset.tab + '-tab';
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.getElementById(tabId).classList.add('active');
            });
        });

        const globalVolume = document.getElementById('global-volume');
        const players = [];
        
        document.querySelectorAll('.custom-audio').forEach((container, index) => {
            const audio = container.querySelector('audio');
            const playBtn = container.querySelector('.play-btn');
            const card = container.closest('.radio-card');
            const bitrateEl = container.nextElementSibling;
            
            players.push({
                player: audio,
                playBtn: playBtn,
                card: card,
                bitrateEl: bitrateEl
            });
            
            playBtn.addEventListener('click', () => {
                if (audio.paused) {
                    players.forEach(item => {
                        if (item.player !== audio) {
                            item.player.pause();
                            item.playBtn.classList.remove('paused');
                            item.card.classList.remove('active');
                        }
                    });
                    
                    audio.play()
                        .then(() => {
                            playBtn.classList.add('paused');
                            card.classList.add('active');
                            currentPlayer = audio;
                            currentCard = card;
                            updateMiniPlayer(card);
                            updateFullscreenPlayer(card);
                            
                            // –í–∏–±—Ä–∞—Ü–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                            if (isMobile && navigator.vibrate) {
                                navigator.vibrate(50);
                            }
                        })
                        .catch(error => {
                            console.log("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ");
                            audio.controls = true;
                            playBtn.style.display = 'none';
                            audio.play();
                        });
                } else {
                    audio.pause();
                    playBtn.classList.remove('paused');
                    card.classList.remove('active');
                    miniPlayerPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
                    fullscreenPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
                }
            });
            
            audio.addEventListener('ended', () => {
                playBtn.classList.remove('paused');
                card.classList.remove('active');
                miniPlayerPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
                fullscreenPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
            });
            
            audio.volume = globalVolume.value;
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
            audio.addEventListener('error', (e) => {
                console.log("–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:", e);
                playBtn.style.display = 'flex'; // –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                playBtn.classList.remove('paused');
                card.classList.remove('active');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                bitrateEl.textContent = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏";
                setTimeout(() => {
                    bitrateEl.textContent = "";
                }, 2000);
            });
        });

        globalVolume.addEventListener('input', (e) => {
            const volume = parseFloat(e.target.value);
            players.forEach(item => {
                item.player.volume = volume;
            });
            if (currentPlayer) {
                currentPlayer.volume = volume;
            }
            updateVolumeIcon(fullscreenVolumeIcon, volume);
        });

        document.getElementById('random-radio').addEventListener('click', () => {
            players.forEach(item => {
                if (!item.player.paused) {
                    item.player.pause();
                    item.playBtn.classList.remove('paused');
                    item.card.classList.remove('active');
                }
            });
            
            const activeTab = document.querySelector('.tab-content.active').id.replace('-tab', '');
            let filteredPlayers = [];
            
            if (activeTab === 'international') {
                filteredPlayers = players.slice(0, 5);
            } else if (activeTab === 'russia') {
                filteredPlayers = players.slice(5, 11);
            } else if (activeTab === 'ukraine') {
                filteredPlayers = players.slice(11, 17);
            } else if (activeTab === 'lofi') {
                filteredPlayers = players.slice(17, 20);
            }
            
            if (filteredPlayers.length > 0) {
                const randomIndex = Math.floor(Math.random() * filteredPlayers.length);
                const randomPlayer = filteredPlayers[randomIndex];
                currentPlayer = randomPlayer.player;
                currentCard = randomPlayer.card;
                
                randomPlayer.player.querySelector('source').src = randomPlayer.player.querySelector('source').src.split('?')[0] + '?_=' + Date.now();
                randomPlayer.player.load();
                
                randomPlayer.player.play()
                    .then(() => {
                        randomPlayer.playBtn.classList.add('paused');
                        randomPlayer.card.classList.add('active');
                        updateMiniPlayer(randomPlayer.card);
                        updateFullscreenPlayer(randomPlayer.card);
                        
                        // –í–∏–±—Ä–∞—Ü–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                        if (isMobile && navigator.vibrate) {
                            navigator.vibrate(50);
                        }
                    })
                    .catch(error => {
                        randomPlayer.player.controls = true;
                        randomPlayer.playBtn.style.display = 'none';
                        randomPlayer.player.play();
                    });
            }
        });

        document.querySelectorAll('.preset-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const volume = parseFloat(this.dataset.preset);
                globalVolume.value = volume;
                players.forEach(item => {
                    item.player.volume = volume;
                });
                if (currentPlayer) {
                    currentPlayer.volume = volume;
                }
                updateVolumeIcon(fullscreenVolumeIcon, volume);
                
                document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        function updateBitrate() {
            players.forEach(item => {
                if (!item.player.paused) {
                    const qualityTag = item.card.querySelector('.quality-tag').textContent;
                    const bitrate = qualityTag.match(/\d+/)[0];
                    item.bitrateEl.textContent = `–ë–∏—Ç—Ä–µ–π—Ç: ~${bitrate} kbps`;
                } else {
                    if (item.bitrateEl.textContent !== "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏") {
                        item.bitrateEl.textContent = '';
                    }
                }
            });
        }

        setInterval(updateBitrate, 3000);

        const verkaBtn = document.getElementById('verka-btn');
        const verkaPlayer = new Audio('https://music6.mp3party.net/online/8848.mp3');
        let isVerkaPlaying = false;
        
        verkaPlayer.addEventListener('error', (e) => {
            console.log("–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –í–µ—Ä–∫–∏:", e);
            verkaBtn.innerHTML = '<i class="fas fa-star"></i> –í–µ—Ä–∫–∞ –°–µ—Ä–¥—é—á–∫–∞';
            verkaBtn.classList.remove('verka-playing');
            isVerkaPlaying = false;
        });
        
        verkaBtn.addEventListener('click', function() {
            players.forEach(item => {
                if (!item.player.paused) {
                    item.player.pause();
                    item.playBtn.classList.remove('paused');
                    item.card.classList.remove('active');
                }
            });
            
            if (!isVerkaPlaying) {
                verkaPlayer.volume = globalVolume.value;
                verkaPlayer.play()
                    .then(() => {
                        isVerkaPlaying = true;
                        verkaBtn.innerHTML = '<i class="fas fa-pause"></i> –ü–∞—É–∑–∞ –í–µ—Ä–∫–∏';
                        verkaBtn.classList.add('verka-playing');
                        currentPlayer = verkaPlayer;
                        currentCard = null;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –º–∏–Ω–∏-–ø–ª–µ–µ—Ä
                        miniPlayerIcon.innerHTML = '<i class="fas fa-star"></i>';
                        miniPlayerTitle.textContent = '–í–µ—Ä–∫–∞ –°–µ—Ä–¥—é—á–∫–∞';
                        miniPlayerDescription.textContent = '–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ —Ö–∏—Ç—ã';
                        miniPlayerPlayBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        miniPlayer.classList.add('visible');
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø–ª–µ–µ—Ä
                        fullscreenIcon.innerHTML = '<i class="fas fa-star"></i>';
                        fullscreenTitle.textContent = '–í–µ—Ä–∫–∞ –°–µ—Ä–¥—é—á–∫–∞';
                        fullscreenDescription.textContent = '–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ —Ö–∏—Ç—ã';
                        fullscreenPlayBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        
                        // –í–∏–±—Ä–∞—Ü–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                        if (isMobile && navigator.vibrate) {
                            navigator.vibrate(100);
                        }
                    })
                    .catch(error => {
                        console.error("–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:", error);
                        alert("–ù–∞–∂–º–∏—Ç–µ '–†–∞–∑—Ä–µ—à–∏—Ç—å' –≤ –∑–∞–ø—Ä–æ—Å–µ –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é");
                    });
            } else {
                verkaPlayer.pause();
                isVerkaPlaying = false;
                verkaBtn.innerHTML = '<i class="fas fa-star"></i> –í–µ—Ä–∫–∞ –°–µ—Ä–¥—é—á–∫–∞';
                verkaBtn.classList.remove('verka-playing');
                miniPlayerPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
                fullscreenPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
        });
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Google Auth
        function initAuth() {
            auth.onAuthStateChanged(user => {
                if (user) {
                    console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:", user.uid);
                    currentUser = user;
                    updateAuthButton(user);
                    chatInput.disabled = false;
                    sendMessageBtn.disabled = false;
                } else {
                    console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω");
                    currentUser = null;
                    updateAuthButton(null);
                    chatInput.disabled = true;
                    sendMessageBtn.disabled = true;
                }
            }, error => {
                console.error("–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:", error);
            });
        }
        
        function updateAuthButton(user) {
            if (user) {
                // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                googleAuthBtn.innerHTML = `
                    ${user.photoURL ? `<img src="${user.photoURL}" class="user-avatar" alt="–ê–≤–∞—Ç–∞—Ä">` : ''}
                    ${user.displayName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}
                `;
            } else {
                // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                googleAuthBtn.innerHTML = '<i class="fab fa-google"></i> –í–æ–π—Ç–∏';
            }
        }
        
        function signInWithGoogle() {
            const provider = new firebase.auth.GoogleAuthProvider();
            provider.addScope('profile');
            provider.addScope('email');
            
            auth.signInWithPopup(provider)
                .then(result => {
                    // –í—Ö–æ–¥ —É—Å–ø–µ—à–µ–Ω
                    console.log('–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥:', result.user);
                })
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:', error);
                    if (error.code === 'auth/popup-closed-by-user') {
                        alert('–û–∫–Ω–æ –≤—Ö–æ–¥–∞ –±—ã–ª–æ –∑–∞–∫—Ä—ã—Ç–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
                    } else {
                        alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ: ' + error.message);
                    }
                });
        }
        
        function signOut() {
            auth.signOut()
                .then(() => {
                    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—à–µ–ª –∏–∑ —Å–∏—Å—Ç–µ–º—ã');
                })
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –≤—ã—Ö–æ–¥–∞:', error);
                });
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ Google Auth
        googleAuthBtn.addEventListener('click', () => {
            if (currentUser) {
                signOut();
            } else {
                signInWithGoogle();
            }
        });
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∞—Ç–æ–º
        function initChat() {
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ —á–∞—Ç–∞
            chatBtn.addEventListener('click', toggleChat);
            chatClose.addEventListener('click', toggleChat);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
            sendMessageBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', e => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
            loadMessages();
        }
        
        function toggleChat() {
            chatContainer.classList.toggle('open');
            
            if (chatContainer.classList.contains('open')) {
                // –ß–∞—Ç –æ—Ç–∫—Ä—ã—Ç - —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
                unreadMessages = 0;
                chatBtn.classList.remove('unread');
                
                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
                setTimeout(() => {
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 100);
            }
        }
        
        function loadMessages() {
            database.ref('messages').limitToLast(50).on('value', snapshot => {
                chatMessages.innerHTML = '';
                const messages = snapshot.val();
                
                if (messages) {
                    Object.keys(messages).forEach(key => {
                        const message = messages[key];
                        addMessageToChat(message);
                    });
                }
                
                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
                setTimeout(() => {
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 100);
            });
            
            // –°–ª—É—à–∞–µ–º –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
            database.ref('messages').limitToLast(1).on('child_added', snapshot => {
                const message = snapshot.val();
                
                // –ï—Å–ª–∏ —á–∞—Ç –∑–∞–∫—Ä—ã—Ç, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
                if (!chatContainer.classList.contains('open')) {
                    unreadMessages++;
                    chatBtn.classList.add('unread');
                }
            });
        }
        
        function addMessageToChat(message) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message');
            
            if (currentUser && message.userId === currentUser.uid) {
                messageElement.classList.add('me');
            } else {
                messageElement.classList.add('other');
            }
            
            const time = new Date(message.timestamp);
            const timeString = time.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            messageElement.innerHTML = `
                <div class="message-user">
                    ${message.photoURL ? `<img src="${message.photoURL}" alt="${message.name}">` : ''}
                    ${message.name}
                </div>
                <div class="message-text">${message.text}</div>
                <div class="message-time">${timeString}</div>
            `;
            
            chatMessages.appendChild(messageElement);
        }
        
        function sendMessage() {
            if (!currentUser) {
                console.error("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω");
                alert("–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google");
                return;
            }

            const text = chatInput.value.trim();
            if (!text) {
                console.error("–ü—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ");
                return;
            }

            console.log("–ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:", text);

            const message = {
                text: text,
                name: currentUser.displayName || '–ê–Ω–æ–Ω–∏–º',
                userId: currentUser.uid,
                photoURL: currentUser.photoURL || '',
                timestamp: firebase.database.ServerValue.TIMESTAMP
            };

            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
            const newMessageRef = database.ref('messages').push();
            newMessageRef.set(message)
                .then(() => {
                    console.log("–°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ");
                    chatInput.value = '';
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                })
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);
                    alert('–û—à–∏–±–∫–∞: ' + error.message);
                });
        }
    </script>
</body>
</html>
